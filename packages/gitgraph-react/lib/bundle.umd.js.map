{"version":3,"file":"bundle.umd.js","sources":["BranchLabel.js","Tooltip.js","Dot.js","Arrow.js","Message.js","Tag.js","Commit.js","BranchPath.js","Gitgraph.js"],"sourcesContent":["import * as React from \"react\";\r\nfunction DefaultBranchLabel(_a) {\r\n    var branch = _a.branch, commit = _a.commit;\r\n    var _b = React.useState({\r\n        textWidth: 0,\r\n        textHeight: 0,\r\n    }), textSizing = _b[0], setTextSizing = _b[1];\r\n    var getSizing = React.useCallback(function (node) {\r\n        if (!node)\r\n            return;\r\n        var box = node.getBBox();\r\n        setTextSizing({ textWidth: box.width, textHeight: box.height });\r\n    }, []);\r\n    var boxWidth = textSizing.textWidth + 2 * BranchLabel.paddingX;\r\n    var boxHeight = textSizing.textHeight + 2 * BranchLabel.paddingY;\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(\"rect\", { stroke: branch.style.label.strokeColor || commit.style.color, fill: branch.style.label.bgColor, rx: branch.style.label.borderRadius, width: boxWidth, height: boxHeight }),\r\n        React.createElement(\"text\", { ref: getSizing, fill: branch.style.label.color || commit.style.color, style: { font: branch.style.label.font }, alignmentBaseline: \"middle\", dominantBaseline: \"middle\", x: BranchLabel.paddingX, y: boxHeight / 2 }, branch.name)));\r\n}\r\nexport var BranchLabel = React.forwardRef(function (props, ref) {\r\n    var branch = props.branch, commit = props.commit, branchLabelX = props.branchLabelX;\r\n    if (!branch.style.label.display)\r\n        return null;\r\n    if (!props.gitgraph.branchLabelOnEveryCommit) {\r\n        var commitHash = props.gitgraph.refs.getCommit(branch.name);\r\n        if (commit.hash !== commitHash)\r\n            return null;\r\n    }\r\n    // For the moment, we don't handle multiple branch labels.\r\n    // To do so, we'd need to reposition each of them appropriately.\r\n    if (commit.branchToDisplay !== branch.name)\r\n        return null;\r\n    var branchLabel = branch.renderLabel ? (branch.renderLabel(branch)) : (React.createElement(DefaultBranchLabel, { branch: branch, commit: commit }));\r\n    if (props.gitgraph.isVertical) {\r\n        return (React.createElement(\"g\", { ref: ref, transform: \"translate(\" + (branchLabelX || 0) + \", 0)\" }, branchLabel));\r\n    }\r\n    else {\r\n        var commitDotSize = commit.style.dot.size * 2;\r\n        var horizontalMarginTop = 10;\r\n        var y = commitDotSize + horizontalMarginTop;\r\n        return (React.createElement(\"g\", { ref: ref, transform: \"translate(\" + commit.x + \", \" + y + \")\" }, branchLabel));\r\n    }\r\n});\r\nBranchLabel.paddingX = 10;\r\nBranchLabel.paddingY = 5;\r\n//# sourceMappingURL=BranchLabel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as React from \"react\";\r\nvar Tooltip = /** @class */ (function (_super) {\r\n    __extends(Tooltip, _super);\r\n    function Tooltip() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = { textWidth: 0 };\r\n        _this.$text = React.createRef();\r\n        return _this;\r\n    }\r\n    Tooltip.prototype.componentDidMount = function () {\r\n        this.setState({ textWidth: this.$text.current.getBBox().width });\r\n    };\r\n    Tooltip.prototype.render = function () {\r\n        if (this.props.commit.renderTooltip) {\r\n            return this.props.commit.renderTooltip(this.props.commit);\r\n        }\r\n        var commitSize = this.props.commit.style.dot.size * 2;\r\n        var offset = 10;\r\n        var padding = Tooltip.padding;\r\n        var radius = 5;\r\n        var boxHeight = 50;\r\n        var boxWidth = offset + this.state.textWidth + 2 * padding;\r\n        var path = [\r\n            \"M 0,0\",\r\n            \"L \" + offset + \",\" + offset,\r\n            \"V \" + (boxHeight / 2 - radius),\r\n            \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2,\r\n            \"H \" + (boxWidth - radius),\r\n            \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius),\r\n            \"V -\" + (boxHeight / 2 - radius),\r\n            \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2,\r\n            \"H \" + (offset + radius),\r\n            \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + (boxHeight / 2 - radius),\r\n            \"V -\" + offset,\r\n            \"z\",\r\n        ].join(\" \");\r\n        return (React.createElement(\"g\", { transform: \"translate(\" + commitSize + \", \" + commitSize / 2 + \")\" },\r\n            React.createElement(\"path\", { d: path, fill: \"#EEE\" }),\r\n            React.createElement(\"text\", { ref: this.$text, x: offset + padding, y: 0, alignmentBaseline: \"central\", fill: \"#333\" }, this.props.children)));\r\n    };\r\n    Tooltip.padding = 10;\r\n    return Tooltip;\r\n}(React.Component));\r\nexport { Tooltip };\r\n//# sourceMappingURL=Tooltip.js.map","import * as React from \"react\";\r\nexport var Dot = function (_a) {\r\n    var commit = _a.commit, onMouseOver = _a.onMouseOver, onMouseOut = _a.onMouseOut;\r\n    if (commit.renderDot) {\r\n        return commit.renderDot(commit);\r\n    }\r\n    return (\r\n    /*\r\n      In order to handle strokes, we need to do some complex stuff hereâ€¦ ðŸ˜…\r\n\r\n      Problem: strokes are drawn inside & outside the circle.\r\n      But we want the stroke to be drawn inside only!\r\n\r\n      The outside overlaps with other elements, as we expect the dot to have a fixed size. So we want to crop the outside part.\r\n\r\n      Solution:\r\n      1. Create the circle in a <defs>\r\n      2. Define a clip path that references the circle\r\n      3. Use the clip path, adding the stroke.\r\n      4. Double stroke width as half of it will be clipped (the outside part).\r\n\r\n      Ref.: https://stackoverflow.com/a/32162431/3911841\r\n\r\n      P.S. there is a proposal for a stroke-alignment property,\r\n      but it's still a W3C Draft Â¯\\_(ãƒ„)_/Â¯\r\n      https://svgwg.org/specs/strokes/#SpecifyingStrokeAlignment\r\n    */\r\n    React.createElement(React.Fragment, null,\r\n        React.createElement(\"defs\", null,\r\n            React.createElement(\"circle\", { id: commit.hash, cx: commit.style.dot.size, cy: commit.style.dot.size, r: commit.style.dot.size, fill: commit.style.dot.color }),\r\n            React.createElement(\"clipPath\", { id: \"clip-\" + commit.hash },\r\n                React.createElement(\"use\", { xlinkHref: \"#\" + commit.hash }))),\r\n        React.createElement(\"g\", { onClick: commit.onClick, onMouseOver: onMouseOver, onMouseOut: onMouseOut },\r\n            React.createElement(\"use\", { xlinkHref: \"#\" + commit.hash, clipPath: \"url(#clip-\" + commit.hash + \")\", stroke: commit.style.dot.strokeColor, strokeWidth: commit.style.dot.strokeWidth && commit.style.dot.strokeWidth * 2 }),\r\n            commit.dotText && (React.createElement(\"text\", { alignmentBaseline: \"central\", textAnchor: \"middle\", x: commit.style.dot.size, y: commit.style.dot.size, style: { font: commit.style.dot.font } }, commit.dotText)))));\r\n};\r\n//# sourceMappingURL=Dot.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as React from \"react\";\r\nimport { arrowSvgPath } from \"@gitgraph/core\";\r\nvar Arrow = /** @class */ (function (_super) {\r\n    __extends(Arrow, _super);\r\n    function Arrow() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Arrow.prototype.render = function () {\r\n        var _this = this;\r\n        var parent = this.props.commits.find(function (_a) {\r\n            var hash = _a.hash;\r\n            return hash === _this.props.parentHash;\r\n        });\r\n        if (!parent)\r\n            return null;\r\n        // Starting point, relative to commit\r\n        var origin = this.props.gitgraph.reverseArrow\r\n            ? {\r\n                x: this.props.commitRadius + (parent.x - this.props.commit.x),\r\n                y: this.props.commitRadius + (parent.y - this.props.commit.y),\r\n            }\r\n            : { x: this.props.commitRadius, y: this.props.commitRadius };\r\n        return (React.createElement(\"g\", { transform: \"translate(\" + origin.x + \", \" + origin.y + \")\" },\r\n            React.createElement(\"path\", { d: arrowSvgPath(this.props.gitgraph, parent, this.props.commit), fill: this.props.gitgraph.template.arrow.color })));\r\n    };\r\n    return Arrow;\r\n}(React.Component));\r\nexport { Arrow };\r\n//# sourceMappingURL=Arrow.js.map","import * as React from \"react\";\r\nexport var Message = React.forwardRef(function (props, ref) {\r\n    var commit = props.commit, messageX = props.messageX;\r\n    if (commit.renderMessage) {\r\n        return (React.createElement(\"g\", { ref: ref, transform: \"translate(\" + messageX + \", 0)\" }, commit.renderMessage(commit)));\r\n    }\r\n    var body = null;\r\n    if (commit.body) {\r\n        body = (React.createElement(\"foreignObject\", { width: \"600\", x: \"10\" },\r\n            React.createElement(\"p\", null, commit.body)));\r\n    }\r\n    // Use commit dot radius to align text with the middle of the dot.\r\n    var y = commit.style.dot.size;\r\n    return (React.createElement(\"g\", { ref: ref, transform: \"translate(\" + messageX + \", \" + y + \")\" },\r\n        React.createElement(\"text\", { alignmentBaseline: \"central\", fill: commit.style.message.color, style: { font: commit.style.message.font }, onClick: commit.onMessageClick }, commit.message),\r\n        body));\r\n});\r\n//# sourceMappingURL=Message.js.map","import * as React from \"react\";\r\nexport var TAG_PADDING_X = 10;\r\nexport var TAG_PADDING_Y = 5;\r\nfunction DefaultTag(props) {\r\n    var _a = React.useState({ textWidth: 0, textHeight: 0 }), state = _a[0], setState = _a[1];\r\n    var $text = React.useRef(null);\r\n    React.useEffect(function () {\r\n        var box = $text.current.getBBox();\r\n        setState({ textWidth: box.width, textHeight: box.height });\r\n    }, []);\r\n    var tag = props.tag;\r\n    var offset = tag.style.pointerWidth;\r\n    var radius = tag.style.borderRadius;\r\n    var boxWidth = offset + state.textWidth + 2 * TAG_PADDING_X;\r\n    var boxHeight = state.textHeight + 2 * TAG_PADDING_Y;\r\n    var path = [\r\n        \"M 0,0\",\r\n        \"L \" + offset + \",\" + boxHeight / 2,\r\n        \"V \" + boxHeight / 2,\r\n        \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2,\r\n        \"H \" + (boxWidth - radius),\r\n        \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius),\r\n        \"V \" + -(boxHeight / 2 - radius),\r\n        \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2,\r\n        \"H \" + (offset + radius),\r\n        \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + boxHeight / 2,\r\n        \"V -\" + boxHeight / 2,\r\n        \"z\",\r\n    ].join(\" \");\r\n    return (React.createElement(\"g\", null,\r\n        React.createElement(\"path\", { d: path, fill: tag.style.bgColor, stroke: tag.style.strokeColor }),\r\n        React.createElement(\"text\", { ref: $text, fill: tag.style.color, style: { font: tag.style.font }, alignmentBaseline: \"middle\", dominantBaseline: \"middle\", x: offset + TAG_PADDING_X, y: 0 }, tag.name)));\r\n}\r\nexport var Tag = React.forwardRef(function (props, ref) {\r\n    var tag = props.tag, commit = props.commit, tagX = props.tagX;\r\n    return (React.createElement(\"g\", { ref: ref, transform: \"translate(\" + (tagX || 0) + \", \" + commit.style.dot.size + \")\" }, tag.render ? tag.render(tag.name, tag.style) : React.createElement(DefaultTag, { tag: tag })));\r\n});\r\n//# sourceMappingURL=Tag.js.map","import * as React from \"react\";\r\nimport { Mode, } from \"@gitgraph/core\";\r\nimport { Dot } from \"./Dot\";\r\nimport { Tooltip } from \"./Tooltip\";\r\nimport { Arrow } from \"./Arrow\";\r\nimport { Message } from \"./Message\";\r\nimport { Tag, TAG_PADDING_X } from \"./Tag\";\r\nimport { BranchLabel } from \"./BranchLabel\";\r\nexport var Commit = function (props) {\r\n    var commit = props.commit, commits = props.commits, gitgraph = props.gitgraph, commitMessagesX = props.commitMessagesX;\r\n    /**\r\n     * This _should_ likely be an array, but is not in order to intentionally keep\r\n     *  a potential bug in the codebase that existed prior to Hook-ifying this component\r\n     * @see https://github.com/nicoespeon/gitgraph.js/blob/be9cdf45c7f00970e68e1a4ba579ca7f5c672da4/packages/gitgraph-react/src/Gitgraph.tsx#L197\r\n     * (notice that it's a single `null` value instead of an array\r\n     *\r\n     * The potential bug in question is \"what happens when there are more than one\r\n     * branch label rendered? Do they overlap or cause the message X position to be\r\n     * in the wrong position?\"\r\n     *\r\n     * TODO: Investigate potential bug outlined above\r\n     */\r\n    var branchLabelRef = React.useRef();\r\n    var tagRefs = React.useRef([]);\r\n    // \"as unknown as any\" needed to avoid `ref` mistypings later. :(\r\n    var messageRef = React.useRef();\r\n    var _a = React.useState(0), branchLabelX = _a[0], setBranchLabelX = _a[1];\r\n    var _b = React.useState([]), tagXs = _b[0], setTagXs = _b[1];\r\n    var _c = React.useState(0), messageX = _c[0], setMessageX = _c[1];\r\n    var arrows = React.useMemo(function () {\r\n        if (!gitgraph.template.arrow.size)\r\n            return null;\r\n        var commitRadius = commit.style.dot.size;\r\n        return commit.parents.map(function (parentHash) {\r\n            return (React.createElement(Arrow, { key: parentHash, commits: commits, commit: commit, gitgraph: gitgraph, parentHash: parentHash, commitRadius: commitRadius }));\r\n        });\r\n    }, [commits, commit, gitgraph]);\r\n    var branchLabels = React.useMemo(function () {\r\n        // @gitgraph/core could compute branch labels into commits directly.\r\n        // That will make it easier to retrieve them, just like tags.\r\n        var branches = Array.from(gitgraph.branches.values());\r\n        return branches.map(function (branch) {\r\n            return (React.createElement(BranchLabel, { key: branch.name, gitgraph: gitgraph, branch: branch, commit: commit, ref: branchLabelRef, branchLabelX: branchLabelX }));\r\n        });\r\n    }, [gitgraph, commit, branchLabelX]);\r\n    var tags = React.useMemo(function () {\r\n        tagRefs.current = [];\r\n        if (!commit.tags)\r\n            return null;\r\n        if (gitgraph.isHorizontal)\r\n            return null;\r\n        return commit.tags.map(function (tag, i) { return (React.createElement(Tag, { key: commit.hashAbbrev + \"-\" + tag.name, commit: commit, tag: tag, ref: function (r) { return (tagRefs.current[i] = r); }, tagX: tagXs[i] || 0 })); });\r\n    }, [commit, gitgraph, tagXs]);\r\n    var _d = props.getWithCommitOffset(commit), x = _d.x, y = _d.y;\r\n    // positionCommitsElements\r\n    React.useLayoutEffect(function () {\r\n        if (gitgraph.isHorizontal) {\r\n            // Elements don't appear on horizontal mode, yet.\r\n            return;\r\n        }\r\n        var padding = 10;\r\n        var translateX = commitMessagesX;\r\n        if (branchLabelRef.current) {\r\n            setBranchLabelX(translateX);\r\n            // For some reason, one paddingX is missing in BBox width.\r\n            var branchLabelWidth = branchLabelRef.current.getBBox().width + BranchLabel.paddingX;\r\n            translateX += branchLabelWidth + padding;\r\n        }\r\n        var allTagXs = tagRefs.current.map(function (tag) {\r\n            if (!tag)\r\n                return 0;\r\n            var tagX = translateX;\r\n            // For some reason, one paddingX is missing in BBox width.\r\n            var tagWidth = tag.getBBox().width + TAG_PADDING_X;\r\n            translateX += tagWidth + padding;\r\n            return tagX;\r\n        });\r\n        setTagXs(allTagXs);\r\n        if (messageRef.current) {\r\n            setMessageX(translateX);\r\n        }\r\n    }, [tagRefs, gitgraph, commitMessagesX]);\r\n    var shouldRenderTooltip = props.currentCommitOver === commit &&\r\n        (props.gitgraph.isHorizontal ||\r\n            (props.gitgraph.mode === Mode.Compact &&\r\n                commit.style.hasTooltipInCompactMode));\r\n    if (shouldRenderTooltip) {\r\n        props.setTooltip(React.createElement(\"g\", { transform: \"translate(\" + x + \", \" + y + \")\" },\r\n            React.createElement(Tooltip, { commit: commit },\r\n                commit.hashAbbrev,\r\n                \" - \",\r\n                commit.subject)));\r\n    }\r\n    return (React.createElement(\"g\", { transform: \"translate(\" + x + \", \" + y + \")\" },\r\n        React.createElement(Dot, { commit: commit, onMouseOver: function () {\r\n                props.setCurrentCommitOver(commit);\r\n                commit.onMouseOver();\r\n            }, onMouseOut: function () {\r\n                props.setCurrentCommitOver(null);\r\n                props.setTooltip(null);\r\n                commit.onMouseOut();\r\n            } }),\r\n        arrows,\r\n        React.createElement(\"g\", { transform: \"translate(\" + -x + \", 0)\" },\r\n            commit.style.message.display && (React.createElement(Message, { commit: commit, ref: messageRef, messageX: messageX })),\r\n            branchLabels,\r\n            tags)));\r\n};\r\n//# sourceMappingURL=Commit.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as React from \"react\";\r\nimport { toSvgPath } from \"@gitgraph/core\";\r\nvar BranchPath = /** @class */ (function (_super) {\r\n    __extends(BranchPath, _super);\r\n    function BranchPath() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BranchPath.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"path\", { d: toSvgPath(this.props.coordinates.map(function (a) {\r\n                return a.map(function (b) { return _this.props.getWithCommitOffset(b); });\r\n            }), this.props.isBezier, this.props.gitgraph.isVertical), fill: \"none\", stroke: this.props.branch.computedColor, strokeWidth: this.props.branch.style.lineWidth, transform: \"translate(\" + this.props.offset + \", \" + this.props.offset + \")\" }));\r\n    };\r\n    return BranchPath;\r\n}(React.Component));\r\nexport { BranchPath };\r\n//# sourceMappingURL=BranchPath.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as React from \"react\";\r\nimport { GitgraphCore, MergeStyle, Mode, Orientation, TemplateName, templateExtend, } from \"@gitgraph/core\";\r\nimport { BranchLabel } from \"./BranchLabel\";\r\nimport { Tooltip } from \"./Tooltip\";\r\nimport { Commit } from \"./Commit\";\r\nimport { BranchPath } from \"./BranchPath\";\r\nexport { Gitgraph, TemplateName, templateExtend, MergeStyle, Mode, Orientation, };\r\nfunction isPropsWithGraph(props) {\r\n    return \"graph\" in props;\r\n}\r\nvar Gitgraph = /** @class */ (function (_super) {\r\n    __extends(Gitgraph, _super);\r\n    function Gitgraph(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.$graph = React.createRef();\r\n        _this.$commits = React.createRef();\r\n        _this.$tooltip = null;\r\n        _this.state = {\r\n            commits: [],\r\n            branchesPaths: new Map(),\r\n            commitMessagesX: 0,\r\n            commitYWithOffsets: {},\r\n            shouldRecomputeOffsets: true,\r\n            currentCommitOver: null,\r\n        };\r\n        _this.gitgraph = isPropsWithGraph(props)\r\n            ? props.graph\r\n            : new GitgraphCore(props.options);\r\n        _this.gitgraph.subscribe(function (data) {\r\n            var commits = data.commits, branchesPaths = data.branchesPaths, commitMessagesX = data.commitMessagesX;\r\n            _this.setState({\r\n                commits: commits,\r\n                branchesPaths: branchesPaths,\r\n                commitMessagesX: commitMessagesX,\r\n                shouldRecomputeOffsets: true,\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n    Gitgraph.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"svg\", { ref: this.$graph },\r\n            React.createElement(\"g\", { transform: \"translate(\" + BranchLabel.paddingX + \", \" + Tooltip.padding + \")\" },\r\n                this.renderBranchesPaths(),\r\n                React.createElement(\"g\", { ref: this.$commits }, this.state.commits.map(function (commit) { return (React.createElement(Commit, { key: commit.hash, commits: _this.state.commits, commit: commit, currentCommitOver: _this.state.currentCommitOver, setCurrentCommitOver: _this.setCurrentCommitOver.bind(_this), gitgraph: _this.gitgraph, getWithCommitOffset: _this.getWithCommitOffset.bind(_this), setTooltip: _this.setTooltip.bind(_this), commitMessagesX: _this.state.commitMessagesX })); })),\r\n                this.$tooltip)));\r\n    };\r\n    Gitgraph.prototype.componentDidMount = function () {\r\n        if (isPropsWithGraph(this.props))\r\n            return;\r\n        this.props.children(this.gitgraph.getUserApi());\r\n    };\r\n    Gitgraph.prototype.componentDidUpdate = function () {\r\n        if (this.$graph.current) {\r\n            var _a = this.$graph.current.getBBox(), height = _a.height, width = _a.width;\r\n            this.$graph.current.setAttribute(\"width\", \r\n            // Add `Tooltip.padding` so we don't crop the tooltip text.\r\n            // Add `BranchLabel.paddingX` so we don't cut branch label.\r\n            (width + Tooltip.padding + BranchLabel.paddingX).toString());\r\n            this.$graph.current.setAttribute(\"height\", \r\n            // Add `Tooltip.padding` so we don't crop tooltip text\r\n            // Add `BranchLabel.paddingY` so we don't crop branch label.\r\n            (height + Tooltip.padding + BranchLabel.paddingY).toString());\r\n        }\r\n        if (!this.state.shouldRecomputeOffsets)\r\n            return;\r\n        if (!this.$commits.current)\r\n            return;\r\n        var commits = Array.from(this.$commits.current.children);\r\n        this.setState({\r\n            commitYWithOffsets: this.computeOffsets(commits),\r\n            shouldRecomputeOffsets: false,\r\n        });\r\n    };\r\n    Gitgraph.prototype.setCurrentCommitOver = function (v) {\r\n        this.setState({ currentCommitOver: v });\r\n    };\r\n    Gitgraph.prototype.setTooltip = function (v) {\r\n        this.$tooltip = v;\r\n    };\r\n    Gitgraph.prototype.renderBranchesPaths = function () {\r\n        var _this = this;\r\n        var offset = this.gitgraph.template.commit.dot.size;\r\n        var isBezier = this.gitgraph.template.branch.mergeStyle === MergeStyle.Bezier;\r\n        return Array.from(this.state.branchesPaths).map(function (_a) {\r\n            var branch = _a[0], coordinates = _a[1];\r\n            return (React.createElement(BranchPath, { key: branch.name, gitgraph: _this.gitgraph, branch: branch, coordinates: coordinates, getWithCommitOffset: _this.getWithCommitOffset.bind(_this), isBezier: isBezier, offset: offset }));\r\n        });\r\n    };\r\n    Gitgraph.prototype.computeOffsets = function (commits) {\r\n        var totalOffsetY = 0;\r\n        // In VerticalReverse orientation, commits are in the same order in the DOM.\r\n        var orientedCommits = this.gitgraph.orientation === Orientation.VerticalReverse\r\n            ? commits\r\n            : commits.reverse();\r\n        return orientedCommits.reduce(function (newOffsets, commit) {\r\n            var commitY = parseInt(commit.getAttribute(\"transform\").split(\",\")[1].slice(0, -1), 10);\r\n            var firstForeignObject = commit.getElementsByTagName(\"foreignObject\")[0];\r\n            var customHtmlMessage = firstForeignObject && firstForeignObject.firstElementChild;\r\n            var messageHeight = 0;\r\n            if (customHtmlMessage) {\r\n                var height = customHtmlMessage.getBoundingClientRect().height;\r\n                var marginTopInPx = window.getComputedStyle(customHtmlMessage).marginTop || \"0px\";\r\n                var marginTop = parseInt(marginTopInPx.replace(\"px\", \"\"), 10);\r\n                messageHeight = height + marginTop;\r\n            }\r\n            // Force the height of the foreignObject (browser issue)\r\n            if (firstForeignObject) {\r\n                firstForeignObject.setAttribute(\"height\", messageHeight + \"px\");\r\n            }\r\n            newOffsets[commitY] = commitY + totalOffsetY;\r\n            // Increment total offset after setting the offset\r\n            // => offset next commits accordingly.\r\n            totalOffsetY += messageHeight;\r\n            return newOffsets;\r\n        }, {});\r\n    };\r\n    Gitgraph.prototype.getWithCommitOffset = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        return { x: x, y: this.state.commitYWithOffsets[y] || y };\r\n    };\r\n    Gitgraph.defaultProps = {\r\n        options: {},\r\n    };\r\n    return Gitgraph;\r\n}(React.Component));\r\n//# sourceMappingURL=Gitgraph.js.map"],"names":["React.useState","React.useCallback","React.createElement","React.forwardRef","__extends","this","React.createRef","React.Component","React.Fragment","arrowSvgPath","React.useRef","React.useEffect","React.useMemo","React.useLayoutEffect","Mode","toSvgPath","GitgraphCore","MergeStyle","Orientation"],"mappings":"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"}